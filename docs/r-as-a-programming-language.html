<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>An introduction to basic fisheries analysis with R</title>
  <meta content="text/html; charset=UTF-8" http-equiv="Content-Type">
  <meta name="description" content="This is an introduction to using R for basic fisheries analysis">
  <meta name="generator" content="bookdown 0.3 and GitBook 2.6.7">

  <meta property="og:title" content="An introduction to basic fisheries analysis with R" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://sfg-ucsb.github.io/fishery-manageR/" />
  
  <meta property="og:description" content="This is an introduction to using R for basic fisheries analysis" />
  <meta name="github-repo" content="sfg-ucsb/fishery-manageR" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="An introduction to basic fisheries analysis with R" />
  
  <meta name="twitter:description" content="This is an introduction to using R for basic fisheries analysis" />
  




  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  <link rel="shortcut icon" href="images/SFG_BW.png" type="image/x-icon">
<link rel="prev" href="data-entry-management.html">
<link rel="next" href="packages-1.html">

<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>


  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">An introduction to basic fisheries analysis with R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Objective</a></li>
<li class="chapter" data-level="2" data-path="installation.html"><a href="installation.html"><i class="fa fa-check"></i><b>2</b> Installation</a><ul>
<li class="chapter" data-level="2.1" data-path="installation.html"><a href="installation.html#r"><i class="fa fa-check"></i><b>2.1</b> R</a></li>
<li class="chapter" data-level="2.2" data-path="installation.html"><a href="installation.html#rstudio"><i class="fa fa-check"></i><b>2.2</b> RStudio</a></li>
<li class="chapter" data-level="2.3" data-path="installation.html"><a href="installation.html#helpful-resources"><i class="fa fa-check"></i><b>2.3</b> Helpful Resources</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="getting-started-with-rstudio.html"><a href="getting-started-with-rstudio.html"><i class="fa fa-check"></i><b>3</b> Getting Started with RStudio</a><ul>
<li class="chapter" data-level="3.1" data-path="getting-started-with-rstudio.html"><a href="getting-started-with-rstudio.html#rstudio-interface"><i class="fa fa-check"></i><b>3.1</b> RStudio Interface</a></li>
<li class="chapter" data-level="3.2" data-path="getting-started-with-rstudio.html"><a href="getting-started-with-rstudio.html#work-dir"><i class="fa fa-check"></i><b>3.2</b> Working Directory</a><ul>
<li class="chapter" data-level="3.2.1" data-path="getting-started-with-rstudio.html"><a href="getting-started-with-rstudio.html#pathnames-path"><i class="fa fa-check"></i><b>3.2.1</b> Pathnames (Path)</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="getting-started-with-rstudio.html"><a href="getting-started-with-rstudio.html#packages"><i class="fa fa-check"></i><b>3.3</b> Packages</a></li>
<li class="chapter" data-level="3.4" data-path="getting-started-with-rstudio.html"><a href="getting-started-with-rstudio.html#helpful-resources-1"><i class="fa fa-check"></i><b>3.4</b> Helpful Resources</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data-entry-management.html"><a href="data-entry-management.html"><i class="fa fa-check"></i><b>4</b> Data Entry &amp; Management</a><ul>
<li class="chapter" data-level="4.1" data-path="data-entry-management.html"><a href="data-entry-management.html#best-practices"><i class="fa fa-check"></i><b>4.1</b> Best Practices</a></li>
<li class="chapter" data-level="4.2" data-path="data-entry-management.html"><a href="data-entry-management.html#helpful-resources-2"><i class="fa fa-check"></i><b>4.2</b> Helpful Resources</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-as-a-programming-language.html"><a href="r-as-a-programming-language.html"><i class="fa fa-check"></i><b>5</b> R as a Programming Language</a><ul>
<li class="chapter" data-level="5.1" data-path="r-as-a-programming-language.html"><a href="r-as-a-programming-language.html#data-frames"><i class="fa fa-check"></i><b>5.1</b> Data frames</a></li>
<li class="chapter" data-level="5.2" data-path="r-as-a-programming-language.html"><a href="r-as-a-programming-language.html#vectors"><i class="fa fa-check"></i><b>5.2</b> Vectors</a></li>
<li class="chapter" data-level="5.3" data-path="r-as-a-programming-language.html"><a href="r-as-a-programming-language.html#functions"><i class="fa fa-check"></i><b>5.3</b> Functions</a></li>
<li class="chapter" data-level="5.4" data-path="r-as-a-programming-language.html"><a href="r-as-a-programming-language.html#tips-on-coding-and-style"><i class="fa fa-check"></i><b>5.4</b> Tips on coding and style</a></li>
<li class="chapter" data-level="5.5" data-path="r-as-a-programming-language.html"><a href="r-as-a-programming-language.html#helpful-resources-3"><i class="fa fa-check"></i><b>5.5</b> Helpful resources</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="packages-1.html"><a href="packages-1.html"><i class="fa fa-check"></i><b>6</b> Packages</a></li>
<li class="chapter" data-level="7" data-path="loading-data-and-data-cleaning.html"><a href="loading-data-and-data-cleaning.html"><i class="fa fa-check"></i><b>7</b> Loading Data and Data Cleaning</a><ul>
<li class="chapter" data-level="7.1" data-path="loading-data-and-data-cleaning.html"><a href="loading-data-and-data-cleaning.html#loading-data"><i class="fa fa-check"></i><b>7.1</b> Loading Data</a></li>
<li class="chapter" data-level="7.2" data-path="loading-data-and-data-cleaning.html"><a href="loading-data-and-data-cleaning.html#data-structure"><i class="fa fa-check"></i><b>7.2</b> Data Structure</a></li>
<li class="chapter" data-level="7.3" data-path="loading-data-and-data-cleaning.html"><a href="loading-data-and-data-cleaning.html#missing-values"><i class="fa fa-check"></i><b>7.3</b> Missing values</a></li>
<li class="chapter" data-level="7.4" data-path="loading-data-and-data-cleaning.html"><a href="loading-data-and-data-cleaning.html#typos"><i class="fa fa-check"></i><b>7.4</b> Typos</a></li>
<li class="chapter" data-level="7.5" data-path="loading-data-and-data-cleaning.html"><a href="loading-data-and-data-cleaning.html#errors"><i class="fa fa-check"></i><b>7.5</b> Errors</a></li>
<li class="chapter" data-level="7.6" data-path="loading-data-and-data-cleaning.html"><a href="loading-data-and-data-cleaning.html#saving-clean-data"><i class="fa fa-check"></i><b>7.6</b> Saving clean data</a></li>
<li class="chapter" data-level="7.7" data-path="loading-data-and-data-cleaning.html"><a href="loading-data-and-data-cleaning.html#helpful-resources-4"><i class="fa fa-check"></i><b>7.7</b> Helpful Resources</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="basic-fisheries-statistics.html"><a href="basic-fisheries-statistics.html"><i class="fa fa-check"></i><b>8</b> Basic Fisheries Statistics</a><ul>
<li class="chapter" data-level="8.1" data-path="basic-fisheries-statistics.html"><a href="basic-fisheries-statistics.html#calculating-landings"><i class="fa fa-check"></i><b>8.1</b> Calculating Landings</a></li>
<li class="chapter" data-level="8.2" data-path="basic-fisheries-statistics.html"><a href="basic-fisheries-statistics.html#calculating-catch-per-unit-effort-cpue"><i class="fa fa-check"></i><b>8.2</b> Calculating Catch-per-Unit-Effort (CPUE)</a></li>
<li class="chapter" data-level="8.3" data-path="basic-fisheries-statistics.html"><a href="basic-fisheries-statistics.html#calculating-percent-mature"><i class="fa fa-check"></i><b>8.3</b> Calculating Percent Mature</a></li>
<li class="chapter" data-level="8.4" data-path="basic-fisheries-statistics.html"><a href="basic-fisheries-statistics.html#helpful-resources-5"><i class="fa fa-check"></i><b>8.4</b> Helpful Resources</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="plotting-fisheries-data.html"><a href="plotting-fisheries-data.html"><i class="fa fa-check"></i><b>9</b> Plotting Fisheries Data</a><ul>
<li class="chapter" data-level="9.1" data-path="plotting-fisheries-data.html"><a href="plotting-fisheries-data.html#plotting-landings"><i class="fa fa-check"></i><b>9.1</b> Plotting Landings</a></li>
<li class="chapter" data-level="9.2" data-path="plotting-fisheries-data.html"><a href="plotting-fisheries-data.html#plotting-cpue"><i class="fa fa-check"></i><b>9.2</b> Plotting CPUE</a></li>
<li class="chapter" data-level="9.3" data-path="plotting-fisheries-data.html"><a href="plotting-fisheries-data.html#plotting-length-frequency"><i class="fa fa-check"></i><b>9.3</b> Plotting Length Frequency</a></li>
<li class="chapter" data-level="9.4" data-path="plotting-fisheries-data.html"><a href="plotting-fisheries-data.html#helpful-resources-6"><i class="fa fa-check"></i><b>9.4</b> Helpful Resources</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="wrapping-up.html"><a href="wrapping-up.html"><i class="fa fa-check"></i><b>10</b> Wrapping Up</a><ul>
<li class="chapter" data-level="10.1" data-path="wrapping-up.html"><a href="wrapping-up.html#r-packages-for-fishery-analysis"><i class="fa fa-check"></i><b>10.1</b> R Packages for Fishery Analysis</a></li>
<li class="chapter" data-level="10.2" data-path="wrapping-up.html"><a href="wrapping-up.html#additional-resources"><i class="fa fa-check"></i><b>10.2</b> Additional Resources</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An introduction to basic fisheries analysis with R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="r-as-a-programming-language" class="section level1">
<h1><span class="header-section-number">5</span> R as a Programming Language</h1>
<p>You may or may not have used other programming languages before coming to R. Either way, R has several distinctive features which are worth noting.</p>
<div id="data-frames" class="section level2">
<h2><span class="header-section-number">5.1</span> Data frames</h2>
<p>One of R’s greatest strengths is in manipulating data. One of the primary structures for storing data in R is called a Data Frame. Much of your work in R will be working with and manipulating data frames. Data frames are made up of rows and columns. The top row is a header and describes the contents of each column. Each row represents an individual data row or observation. Rows can also have names. Each row contains multiple cells which contain the content of the data.</p>
<p>Let’s look at a data frame that is included in R as an example. This data frame is called <code>mtcars</code> and contains some data about common car models. We can look at this data frame using the <code>head</code> function, which previews the first few rows. You can also use the functions <code>colnames</code> or <code>rownames</code> to get the column or row names of a data frame, respecitvely.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">head</span>(mtcars)</code></pre></div>
<pre><code>##                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
## Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
## Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
## Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
## Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
## Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
## Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1</code></pre>
<p>The columns in data frames can contain different types of information. In this particular data frame, all columns contain numbers, as denoted by the indication <code>&lt;dbl&gt;</code>, a type of number that allows numbers after the decimal point. Columns could also be integers represented by <code>&lt;int&gt;</code> (which don’t allow numbers after the decimal point), dates represented by <code>&lt;date&gt;</code>,booleans or logicals represented by <code>lgl</code> (<code>TRUE</code> or <code>FALSE</code>), characters represented by <code>&lt;chr&gt;</code> (these contain text), or factors represented by <code>&lt;fctr&gt;</code> (these are helpful for storing categorical information such as species names or gear types).</p>
<p>These days, you may also see the word <code>tibble</code>, which is a modern version of the R data frame and is being used more and more widely. Tibbles generally function much like data frames, but do away with some frustrating features and are generally cleaner. We recommend using tibbles.</p>
</div>
<div id="vectors" class="section level2">
<h2><span class="header-section-number">5.2</span> Vectors</h2>
<p>Another very common data type is the vector, which stores 1-dimensional information, such as a list of numbers or characters. Vectors are built using the <code>c</code> function. Below are two examples:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">myNumericVector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>, <span class="dv">4</span>)

myCharacterVector &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>, <span class="st">&quot;D&quot;</span>)</code></pre></div>
</div>
<div id="functions" class="section level2">
<h2><span class="header-section-number">5.3</span> Functions</h2>
<p>R is a “functional” programming language, which means it gets much of its power by relying on the concept of functions. Functions are small chunks of code that can do a certain task. They require a certain number of inputs, and provide a certain number of outputs. They allow for common tasks to be performed easily and reproducibly.</p>
<p>R contains many built-in functions, including several for helpful statistics, as shown below. In these examples, there are also some helpful comments to tell you what each line is doing in the code blocks below. Comments start with the <code>#</code> operation, and are not evaluated by R - they are simply there to document the code.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The sum function takes a vector of numbers as an input, calculates the sum of those numbers, and produces a single number as an output</span>
<span class="kw">sum</span>(<span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">3</span>))</code></pre></div>
<pre><code>## [1] 6</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The mean function takes a vector of numbers as an input, calculates the mean of those numbers, and produces a single number as an</span>
<span class="kw">mean</span>(<span class="kw">c</span>(<span class="dv">1</span> ,<span class="dv">2</span>, <span class="dv">3</span>))</code></pre></div>
<pre><code>## [1] 2</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># The median function takes a vector of numbers as an input, calculates the median of those numbers, and produces a single number as an</span>
<span class="kw">median</span>(<span class="kw">c</span>(<span class="dv">1</span> ,<span class="dv">2</span>, <span class="dv">3</span>))</code></pre></div>
<pre><code>## [1] 2</code></pre>
<p>You can even define your own functions, which can be an incredibly powerful way to save time when doing a task you anticipate needing to do many times. The example below shows how you would write a function that takes in two numbers as an input, manipulates the numbers, and then provides a single number as an output. Once you have defined a function, you can use it again later on.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="co"># Define the function</span>
myFunction &lt;-<span class="st"> </span><span class="cf">function</span>(x,y){
  z &lt;-<span class="st"> </span>(x <span class="op">+</span><span class="st"> </span><span class="dv">2</span> <span class="op">*</span><span class="st"> </span>y) <span class="op">/</span><span class="st"> </span>x
  <span class="kw">return</span>(z)
}
<span class="co"># Test the function</span>
<span class="kw">myFunction</span>(<span class="dv">3</span>,<span class="dv">4</span>)</code></pre></div>
<pre><code>## [1] 3.666667</code></pre>
</div>
<div id="tips-on-coding-and-style" class="section level2">
<h2><span class="header-section-number">5.4</span> Tips on coding and style</h2>
<p>It is helpful to code in a consistent manner. This will not only make your code readble by others, but will even be helpful for you as you revisit code you have previously written. Using consistent code stying also makes it much easier to collaborate with others. We highly recommend following <a href="https://google.github.io/styleguide/Rguide.xml">Google’s style guidelines for R</a>.</p>
</div>
<div id="helpful-resources-3" class="section level2">
<h2><span class="header-section-number">5.5</span> Helpful resources</h2>
<ul>
<li><a href="https://tutorials.shinyapps.io/04-Programming-Basics/#section-welcome">An interactive tutorial on learning the basics of R programming</a></li>
<li><p><a href="http://www.r-tutor.com/r-introduction/data-frame">More information on data frames</a></p></li>
<li><p><a href="https://cran.r-project.org/web/packages/tibble/vignettes/tibble.html">More information on tibbles, the modern version of data frames</a></p></li>
<li><p><a href="http://adv-r.had.co.nz/Functional-programming.html">Functions</a></p></li>
<li><p><a href="https://google.github.io/styleguide/Rguide.xml">Google’s style guidelines</a></p></li>
</ul>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-entry-management.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="packages-1.html" class="navigation navigation-next " aria-label="Next page""><i class="fa fa-angle-right"></i></a>

<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-r_programming.Rmd",
"text": "Edit"
},
"download": ["r-fisheries-introduction.pdf"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
